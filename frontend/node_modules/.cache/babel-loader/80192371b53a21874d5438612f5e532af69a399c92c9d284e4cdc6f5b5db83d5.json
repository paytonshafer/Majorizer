{"ast":null,"code":"import _regeneratorRuntime from\"/Users/paytonshafer/Desktop/CS350/Majorizer/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/paytonshafer/Desktop/CS350/Majorizer/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/paytonshafer/Desktop/CS350/Majorizer/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//This is the code for our home page\nimport React,{useContext,useEffect,useState}from'react';import AuthContext from'../context/AuthContext.js';import'./styles/HomePage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StudHome=function StudHome(){var _useContext=useContext(AuthContext),user=_useContext.user;var _useState=useState(function(){return localStorage.getItem('loggedin_stud_data')?JSON.parse(localStorage.getItem('loggedin_stud_data')):null;}),_useState2=_slicedToArray(_useState,2),studData=_useState2[0],setStudData=_useState2[1];useEffect(function(){var getStudData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://127.0.0.1:8000/api/student/'+user.id,{method:'GET',headers:{'Content-Type':'application/json'}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;//This should get the auth tokens if successful\nif(response.status===200){//if response is all good\nsetStudData(data);//set auth tokens\nlocalStorage.setItem('loggedin_stud_data',JSON.stringify(data));//put the auth tokens in local storage\n}else{alert('Something went wrong');}case 7:case\"end\":return _context.stop();}},_callee);}));return function getStudData(){return _ref.apply(this,arguments);};}();getStudData();},[user.id]);return/*#__PURE__*/_jsx(\"div\",{children:studData?studData.map(function(studData){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Current Major(s) and Minor(s)\"}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Major1: \",studData.major1?studData.major1.name:'NONE']}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Major2: \",studData.major2?studData.major2.name:'NONE']}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Minor1: \",studData.minor1?studData.minor1.name:'NONE']}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Minor2: \",studData.minor2?studData.minor2.name:'NONE']})]},studData.id);}):null});};var AdvHome=function AdvHome(){var _useContext2=useContext(AuthContext),user=_useContext2.user;var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),connections=_useState4[0],setConnetions=_useState4[1];useEffect(function(){var getStuds=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('http://127.0.0.1:8000/api/advconn/'+user.id,{method:'GET',headers:{'Content-Type':'application/json'}});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;//This should get the auth tokens if successful\nif(response.status===200){//if response is all good\nsetConnetions(data);//set auth tokens\nlocalStorage.setItem('advconnections',JSON.stringify(data));//put the auth tokens in local storage\n}else{alert('Something went wrong');}case 7:case\"end\":return _context2.stop();}},_callee2);}));return function getStuds(){return _ref2.apply(this,arguments);};}();getStuds();},[user.id]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"studentList\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"studentListHeader\",children:\"Students you are Advising:\"}),connections.map(function(conn){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"studentName\",children:conn.student.student.username}),/*#__PURE__*/_jsxs(\"p\",{className:\"studMajorAndYear\",children:[\"Major1: \",conn.student.major1?conn.student.major1.name:'NONE']}),/*#__PURE__*/_jsxs(\"p\",{className:\"studMajorAndYear\",children:[\"Major2: \",conn.student.major2?conn.student.major2.name:'NONE']}),/*#__PURE__*/_jsxs(\"p\",{className:\"studMajorAndYear\",children:[\"Minor1: \",conn.student.minor1?conn.student.minor1.name:'NONE']}),/*#__PURE__*/_jsxs(\"p\",{className:\"studMajorAndYear\",children:[\"Minor2: \",conn.student.minor2?conn.student.minor2.name:'NONE']})]},conn.id);})]})});};var AdmHome=function AdmHome(){return/*#__PURE__*/_jsx(\"div\",{className:\"activeRequestField\"});};//this will be edited to link with backend stuff later on, hardcoding in 2 for rn\nvar HomePage=function HomePage(){var _useContext3=useContext(AuthContext),user=_useContext3.user;return/*#__PURE__*/_jsxs(\"div\",{className:\"borderbox\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"welcomeField\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"https://webspace.clarkson.edu/classes/softwaresurge/public_html/\",children:/*#__PURE__*/_jsx(\"img\",{className:\"logo\",src:\"/logo.png\",alt:\"logo\"})}),/*#__PURE__*/_jsxs(\"h1\",{style:{fontWeight:'bold'},children:[\"Welcome \",user.username]}),/*#__PURE__*/_jsxs(\"h5\",{children:[user.group,\" account\"]})]}),/*The below block checks for a user and renders the correct nave bar based on who is logged in*/user===null?/*#__PURE__*/_jsx(\"h3\",{children:\"WELCOME!\"}):user.group==='student'?/*#__PURE__*/_jsx(StudHome,{}):user.group==='advisor'?/*#__PURE__*/_jsx(AdvHome,{}):user.group==='admin'?/*#__PURE__*/_jsx(AdmHome,{}):null]});};export default HomePage;","map":{"version":3,"names":["React","useContext","useEffect","useState","AuthContext","jsx","_jsx","jsxs","_jsxs","StudHome","_useContext","user","_useState","localStorage","getItem","JSON","parse","_useState2","_slicedToArray","studData","setStudData","getStudData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","id","method","headers","sent","json","status","setItem","stringify","alert","stop","apply","arguments","children","map","major1","name","major2","minor1","minor2","AdvHome","_useContext2","_useState3","_useState4","connections","setConnetions","getStuds","_ref2","_callee2","_callee2$","_context2","className","conn","student","username","AdmHome","HomePage","_useContext3","href","src","alt","style","fontWeight","group"],"sources":["/Users/paytonshafer/Desktop/CS350/Majorizer/frontend/src/pages/HomePage.jsx"],"sourcesContent":["//This is the code for our home page\nimport React, {useContext, useEffect, useState} from 'react'\nimport AuthContext from '../context/AuthContext.js'\nimport './styles/HomePage.css'\n\nconst StudHome = () =>{\n    let {user} = useContext(AuthContext)\n    let [studData, setStudData] = useState(()=> localStorage.getItem('loggedin_stud_data') ? JSON.parse(localStorage.getItem('loggedin_stud_data')) : null)\n\n    useEffect(()=>{\n        let getStudData = async () => {\n            //Here we fetch from our api with the username and password to return our auth tokens\n            let response = await fetch('http://127.0.0.1:8000/api/student/' + user.id, {\n                method: 'GET',\n                headers:{\n                    'Content-Type': 'application/json'\n                }\n            })\n            let data = await response.json() //This should get the auth tokens if successful\n    \n            if(response.status === 200){ //if response is all good\n                setStudData(data) //set auth tokens\n                localStorage.setItem('loggedin_stud_data', JSON.stringify(data)) //put the auth tokens in local storage\n            }else{alert('Something went wrong')}\n        }\n        getStudData()\n    },[user.id])\n\n    return(\n        <div>\n            {studData ? studData.map((studData) => \n                <div key={studData.id}>\n                    <h2>Current Major(s) and Minor(s)</h2>\n                    <h3>Major1: {studData.major1 ? studData.major1.name : 'NONE'}</h3>\n                    <h3>Major2: {studData.major2 ? studData.major2.name : 'NONE'}</h3>\n                    <h3>Minor1: {studData.minor1 ? studData.minor1.name : 'NONE'}</h3>\n                    <h3>Minor2: {studData.minor2 ? studData.minor2.name : 'NONE'}</h3>\n                </div>\n            ): null}\n        </div>\n    )\n}\n\n\n\nconst AdvHome = () =>{\n    let {user} = useContext(AuthContext)\n    let [connections, setConnetions]= useState([])\n\n    useEffect(()=>{\n        let getStuds = async () => {\n            //Here we fetch from our api with the username and password to return our auth tokens\n            let response = await fetch('http://127.0.0.1:8000/api/advconn/' + user.id, {\n                method: 'GET',\n                headers:{\n                    'Content-Type': 'application/json'\n                }\n            })\n            let data = await response.json() //This should get the auth tokens if successful\n    \n            if(response.status === 200){ //if response is all good\n                setConnetions(data) //set auth tokens\n                localStorage.setItem('advconnections', JSON.stringify(data)) //put the auth tokens in local storage\n            }else{alert('Something went wrong')}\n        }\n        getStuds()\n    },[user.id])\n    \n    return(\n    <div>\n       <div className='studentList'>\n            <h1 className='studentListHeader'>Students you are Advising:</h1>\n            {connections.map((conn) => \n                <li key={conn.id}>\n                <p className='studentName'>{conn.student.student.username}</p>\n                <p className='studMajorAndYear'>Major1: {conn.student.major1 ? conn.student.major1.name : 'NONE'}</p>\n                <p className='studMajorAndYear'>Major2: {conn.student.major2 ? conn.student.major2.name : 'NONE'}</p>\n                <p className='studMajorAndYear'>Minor1: {conn.student.minor1 ? conn.student.minor1.name : 'NONE'}</p>\n                <p className='studMajorAndYear'>Minor2: {conn.student.minor2 ? conn.student.minor2.name : 'NONE'}</p>\n                </li>\n            )}\n        </div>\n    </div>\n    )\n}\n\nconst AdmHome = () =>{\n    return(\n        <div className='activeRequestField'>\n        </div>\n    )\n}\n//this will be edited to link with backend stuff later on, hardcoding in 2 for rn\n\n\nconst HomePage = () => {\n    let {user} = useContext(AuthContext)\n\n    return (\n        <div className='borderbox'>\n            <div  className='welcomeField'>\n            <a href='https://webspace.clarkson.edu/classes/softwaresurge/public_html/'><img className='logo' src=\"/logo.png\" alt='logo'></img></a>\n            <h1 style={{fontWeight: 'bold'}}>Welcome {user.username}</h1>\n            <h5>{user.group} account</h5>\n            </div>\n            {/*The below block checks for a user and renders the correct nave bar based on who is logged in*/\n            user === null ? (<h3>WELCOME!</h3>) :\n            user.group === 'student' ? (<StudHome />) :\n            user.group === 'advisor' ? (<AdvHome />) :\n            user.group === 'admin' ? (<AdmHome />) : \n            null}\n            \n        </div>\n    )\n}\n\nexport default HomePage;"],"mappings":"8aAAA;AACA,MAAO,CAAAA,KAAK,EAAGC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAC5D,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,MAAO,uBAAuB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9B,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAQ,CAClB,IAAAC,WAAA,CAAaT,UAAU,CAACG,WAAW,CAAC,CAA/BO,IAAI,CAAAD,WAAA,CAAJC,IAAI,CACT,IAAAC,SAAA,CAA8BT,QAAQ,CAAC,iBAAK,CAAAU,YAAY,CAACC,OAAO,CAAC,oBAAoB,CAAC,CAAGC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,oBAAoB,CAAC,CAAC,CAAG,IAAI,GAAC,CAAAG,UAAA,CAAAC,cAAA,CAAAN,SAAA,IAAlJO,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE1Bf,SAAS,CAAC,UAAI,CACV,GAAI,CAAAmB,WAAW,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SAEO,CAAAC,KAAK,CAAC,oCAAoC,CAAGvB,IAAI,CAACwB,EAAE,CAAE,CACvEC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAC,CACJ,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,QALEV,QAAQ,CAAAI,QAAA,CAAAO,IAAA,CAAAP,QAAA,CAAAE,IAAA,SAMK,CAAAN,QAAQ,CAACY,IAAI,EAAE,QAA5BX,IAAI,CAAAG,QAAA,CAAAO,IAAA,CAAyB;AAEjC,GAAGX,QAAQ,CAACa,MAAM,GAAK,GAAG,CAAC,CAAE;AACzBpB,WAAW,CAACQ,IAAI,CAAC,CAAC;AAClBf,YAAY,CAAC4B,OAAO,CAAC,oBAAoB,CAAE1B,IAAI,CAAC2B,SAAS,CAACd,IAAI,CAAC,CAAC,CAAC;AACrE,CAAC,IAAI,CAACe,KAAK,CAAC,sBAAsB,CAAC,EAAC,wBAAAZ,QAAA,CAAAa,IAAA,MAAAlB,OAAA,GACvC,kBAdG,CAAAL,WAAWA,CAAA,SAAAC,IAAA,CAAAuB,KAAA,MAAAC,SAAA,OAcd,CACDzB,WAAW,EAAE,CACjB,CAAC,CAAC,CAACV,IAAI,CAACwB,EAAE,CAAC,CAAC,CAEZ,mBACI7B,IAAA,QAAAyC,QAAA,CACK5B,QAAQ,CAAGA,QAAQ,CAAC6B,GAAG,CAAC,SAAC7B,QAAQ,qBAC9BX,KAAA,QAAAuC,QAAA,eACIzC,IAAA,OAAAyC,QAAA,CAAI,+BAA6B,EAAK,cACtCvC,KAAA,OAAAuC,QAAA,EAAI,UAAQ,CAAC5B,QAAQ,CAAC8B,MAAM,CAAG9B,QAAQ,CAAC8B,MAAM,CAACC,IAAI,CAAG,MAAM,GAAM,cAClE1C,KAAA,OAAAuC,QAAA,EAAI,UAAQ,CAAC5B,QAAQ,CAACgC,MAAM,CAAGhC,QAAQ,CAACgC,MAAM,CAACD,IAAI,CAAG,MAAM,GAAM,cAClE1C,KAAA,OAAAuC,QAAA,EAAI,UAAQ,CAAC5B,QAAQ,CAACiC,MAAM,CAAGjC,QAAQ,CAACiC,MAAM,CAACF,IAAI,CAAG,MAAM,GAAM,cAClE1C,KAAA,OAAAuC,QAAA,EAAI,UAAQ,CAAC5B,QAAQ,CAACkC,MAAM,CAAGlC,QAAQ,CAACkC,MAAM,CAACH,IAAI,CAAG,MAAM,GAAM,GAL5D/B,QAAQ,CAACgB,EAAE,CAMf,GACT,CAAE,IAAI,EACL,CAEd,CAAC,CAID,GAAM,CAAAmB,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAQ,CACjB,IAAAC,YAAA,CAAatD,UAAU,CAACG,WAAW,CAAC,CAA/BO,IAAI,CAAA4C,YAAA,CAAJ5C,IAAI,CACT,IAAA6C,UAAA,CAAkCrD,QAAQ,CAAC,EAAE,CAAC,CAAAsD,UAAA,CAAAvC,cAAA,CAAAsC,UAAA,IAAzCE,WAAW,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAE/BvD,SAAS,CAAC,UAAI,CACV,GAAI,CAAA0D,QAAQ,6BAAAC,KAAA,CAAAtC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAqC,SAAA,MAAAnC,QAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAkC,UAAAC,SAAA,iBAAAA,SAAA,CAAAhC,IAAA,CAAAgC,SAAA,CAAA/B,IAAA,SAAA+B,SAAA,CAAA/B,IAAA,SAEU,CAAAC,KAAK,CAAC,oCAAoC,CAAGvB,IAAI,CAACwB,EAAE,CAAE,CACvEC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAC,CACJ,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,QALEV,QAAQ,CAAAqC,SAAA,CAAA1B,IAAA,CAAA0B,SAAA,CAAA/B,IAAA,SAMK,CAAAN,QAAQ,CAACY,IAAI,EAAE,QAA5BX,IAAI,CAAAoC,SAAA,CAAA1B,IAAA,CAAyB;AAEjC,GAAGX,QAAQ,CAACa,MAAM,GAAK,GAAG,CAAC,CAAE;AACzBmB,aAAa,CAAC/B,IAAI,CAAC,CAAC;AACpBf,YAAY,CAAC4B,OAAO,CAAC,gBAAgB,CAAE1B,IAAI,CAAC2B,SAAS,CAACd,IAAI,CAAC,CAAC,CAAC;AACjE,CAAC,IAAI,CAACe,KAAK,CAAC,sBAAsB,CAAC,EAAC,wBAAAqB,SAAA,CAAApB,IAAA,MAAAkB,QAAA,GACvC,kBAdG,CAAAF,QAAQA,CAAA,SAAAC,KAAA,CAAAhB,KAAA,MAAAC,SAAA,OAcX,CACDc,QAAQ,EAAE,CACd,CAAC,CAAC,CAACjD,IAAI,CAACwB,EAAE,CAAC,CAAC,CAEZ,mBACA7B,IAAA,QAAAyC,QAAA,cACGvC,KAAA,QAAKyD,SAAS,CAAC,aAAa,CAAAlB,QAAA,eACvBzC,IAAA,OAAI2D,SAAS,CAAC,mBAAmB,CAAAlB,QAAA,CAAC,4BAA0B,EAAK,CAChEW,WAAW,CAACV,GAAG,CAAC,SAACkB,IAAI,qBAClB1D,KAAA,OAAAuC,QAAA,eACAzC,IAAA,MAAG2D,SAAS,CAAC,aAAa,CAAAlB,QAAA,CAAEmB,IAAI,CAACC,OAAO,CAACA,OAAO,CAACC,QAAQ,EAAK,cAC9D5D,KAAA,MAAGyD,SAAS,CAAC,kBAAkB,CAAAlB,QAAA,EAAC,UAAQ,CAACmB,IAAI,CAACC,OAAO,CAAClB,MAAM,CAAGiB,IAAI,CAACC,OAAO,CAAClB,MAAM,CAACC,IAAI,CAAG,MAAM,GAAK,cACrG1C,KAAA,MAAGyD,SAAS,CAAC,kBAAkB,CAAAlB,QAAA,EAAC,UAAQ,CAACmB,IAAI,CAACC,OAAO,CAAChB,MAAM,CAAGe,IAAI,CAACC,OAAO,CAAChB,MAAM,CAACD,IAAI,CAAG,MAAM,GAAK,cACrG1C,KAAA,MAAGyD,SAAS,CAAC,kBAAkB,CAAAlB,QAAA,EAAC,UAAQ,CAACmB,IAAI,CAACC,OAAO,CAACf,MAAM,CAAGc,IAAI,CAACC,OAAO,CAACf,MAAM,CAACF,IAAI,CAAG,MAAM,GAAK,cACrG1C,KAAA,MAAGyD,SAAS,CAAC,kBAAkB,CAAAlB,QAAA,EAAC,UAAQ,CAACmB,IAAI,CAACC,OAAO,CAACd,MAAM,CAAGa,IAAI,CAACC,OAAO,CAACd,MAAM,CAACH,IAAI,CAAG,MAAM,GAAK,GAL5FgB,IAAI,CAAC/B,EAAE,CAMX,GACR,GACC,EACJ,CAEV,CAAC,CAED,GAAM,CAAAkC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAQ,CACjB,mBACI/D,IAAA,QAAK2D,SAAS,CAAC,oBAAoB,EAC7B,CAEd,CAAC,CACD;AAGA,GAAM,CAAAK,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAS,CACnB,IAAAC,YAAA,CAAatE,UAAU,CAACG,WAAW,CAAC,CAA/BO,IAAI,CAAA4D,YAAA,CAAJ5D,IAAI,CAET,mBACIH,KAAA,QAAKyD,SAAS,CAAC,WAAW,CAAAlB,QAAA,eACtBvC,KAAA,QAAMyD,SAAS,CAAC,cAAc,CAAAlB,QAAA,eAC9BzC,IAAA,MAAGkE,IAAI,CAAC,kEAAkE,CAAAzB,QAAA,cAACzC,IAAA,QAAK2D,SAAS,CAAC,MAAM,CAACQ,GAAG,CAAC,WAAW,CAACC,GAAG,CAAC,MAAM,EAAO,EAAI,cACtIlE,KAAA,OAAImE,KAAK,CAAE,CAACC,UAAU,CAAE,MAAM,CAAE,CAAA7B,QAAA,EAAC,UAAQ,CAACpC,IAAI,CAACyD,QAAQ,GAAM,cAC7D5D,KAAA,OAAAuC,QAAA,EAAKpC,IAAI,CAACkE,KAAK,CAAC,UAAQ,GAAK,GACvB,CACL,gGACDlE,IAAI,GAAK,IAAI,cAAIL,IAAA,OAAAyC,QAAA,CAAI,UAAQ,EAAK,CAClCpC,IAAI,CAACkE,KAAK,GAAK,SAAS,cAAIvE,IAAA,CAACG,QAAQ,IAAG,CACxCE,IAAI,CAACkE,KAAK,GAAK,SAAS,cAAIvE,IAAA,CAACgD,OAAO,IAAG,CACvC3C,IAAI,CAACkE,KAAK,GAAK,OAAO,cAAIvE,IAAA,CAAC+D,OAAO,IAAG,CACrC,IAAI,GAEF,CAEd,CAAC,CAED,cAAe,CAAAC,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}